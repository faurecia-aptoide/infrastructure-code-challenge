# Faurecia Aptoide
## Infrastructure Code Challenge
Thank you so much for taking the time to work on our code challenge. We expect it to take approx 4h to complete and would be ideal if you can send it to us within 1 week timeframe. Please don't hesitate to contact us by email with whatever question you have about it.

### Node deployment
Our development team has built the following nodejs application that needs to be deployed and public accessible with high availability: https://github.com/nodejs/examples/tree/main/servers/express/api-with-express-and-handlebars

### Your task
Design and describe the stack for this application (a draw/schema would be nice)

Implement code to provision a local infrastructure based in Kubernetes. (Example: Minikube)

Implement code to deploy the application (any language or open source tool is permitted)

Application must be accessible on a custom port using localhost, after deploy browser should open in the website

The solution should be fault tolerance with high availability

The solution can be up and running by executing a single command/script

### We expect
The solution should be easy to manage/maintain, if this is not possible to achieve within the proposed time frame then please describe any futures changes

You should write a few lines explaining you development setup (how did you create or emulate the resources)

The code of the challenge written in a Git repository and zipped. Try to not write the entire program in one commit and version it as much as you can. For us, understanding your progress is valuable. You can also share a link to the Zip on a file sharing service in case your email provider doesn't allow for the attachment to be sent. In that case, please make sure that the file can be correctly downloaded using a incognito/private window.

### Extras / Optional
Application is deployed when provision is happening

The solution can be up and running by executing a single command/script

Design and implement a process for deploying new application versions with no downtime

### Proposed Solution
Our solution includes:
 - makefile to build (image challenge:latest) and deploy the image to Minikube
 - dockerfile to build the project (exposes port 3000 from npm start)
 - kubernetes yaml for the service (clusterIp for port 3000) and deployment (deployment with 1 replica)
 - kubernetes yaml for ingress controller exposing the service (nginx exposing a custom local domain: http://challenge.local.faurecia-aptoide.com/)
